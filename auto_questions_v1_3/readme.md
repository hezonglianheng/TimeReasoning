# 时间推理试题出题程序v1.3说明

## 功能描述
本程序主要用于根据已经编写好的情景文件和输入的运行时参数，通过程序中预定义的推理规则生成时间推理试题。

## 下载和使用
(待补充)

## 参数设置文档
使用本程序时，一方面需要编写相关的情景文件供程序读取，一方面需要在控制台运行时指定程序运行参数。

### 情景文件的编写
情景文件的示例可以参考[描述一生故事的情景文件](./setting_dirs/life_story/settings.json5)和[描述每周日程的情景文件](./setting_dirs/week_schedule/settings.json5)。情景文件需要包含如下内容：
- `random_seed`：随机种子设置，设置为一个整数，以保证结果可以复现。
- `event_num`：指定试题中涉及的事件数量。
- `knowledge_num`：指定试题生成时需要调用的外部知识数量。程序会从预先确定的外部知识中选择一部分加入试题的生成过程中。
- `reset_time`：初始命题的重置次数。开始试题生成时，需要随机生成一系列初始命题进入推理流程。重置初始命题的次数越多，最终生成的情景种类就越多。
- `ask_time`：对于每个初始命题，提出问题的个数。在程序中，少量的初始命题可以推理得到大量的命题。可以根据这些命题，选取不同的已知条件，提出不同的问题。这些问题可以作为“题簇”的一种类型。
- `scenario`：指定情景的类型等信息。
- `curr_unit`：指定情景中时间信息的基础单位类型，用于程序内置的时间计算。
- `guide`：试题的引导语
- `time_range`：指定时间范围。程序运行过程中，会在这个时间范围内随机生成事件的时间值。
- `object`：试题中出现的实体，比如试题中的任务等。
- `event`：试题中出现的事件。时间推理的主要内容就是推理这些事件发生的时间信息以及它们之间的关系。
- `constraint`：试题中事件的约束信息。为了使得生成的事件顺序符合常理，需要人工指定事件的先后顺序、事件的发生间隔等。

### 程序运行参数
此目录下的[main.py](.\main.py)函数是执行程序的入口。函数执行时，需要两个参数：
1. 位置参数`dir_path`，指定一个存在情景文件(命名为`settings.json5`)的文件夹，函数会读取情景文件`settings.json5`中的内容并生成相应的试题。
2. 选项参数`--question_type`，指定试题的问题类型(precise/correct/incorrect)。这个参数的值用于指定问题类型(询问单个命题/询问“以下选项正确的是”/“以下选项错误的是”)，并以这个参数为生成的文件命名。